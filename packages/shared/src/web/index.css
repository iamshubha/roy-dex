/*
  global css which apply to Desktop, Web and Extension
  copy from:
    node_modules/@expo/webpack-config/web-default/index.html
 */

/* ---------------------------------------------- */

/**
 * Extend the react-native-web reset:
 * https://github.com/necolas/react-native-web/blob/master/packages/react-native-web/src/exports/StyleSheet/initialRules.js
 */

:root {
  text-autospace: normal;
  /* Premium Liquid Glass: Backdrop filter support detection */
  --supports-backdrop-filter: true;
  
  /* Premium visual effect CSS variables */
  --glass-border-light: rgba(255, 255, 255, 0.3);
  --glass-shadow-soft: 0 8px 32px rgba(31, 38, 135, 0.15);
  --glass-shadow-medium: 0 12px 40px rgba(31, 38, 135, 0.25);
  --glass-shadow-strong: 0 20px 60px rgba(0, 0, 0, 0.3);
}

@supports not (backdrop-filter: blur(10px)) and not (-webkit-backdrop-filter: blur(10px)) {
  :root {
    --supports-backdrop-filter: false;
  }
  
  /* Enhanced fallback for browsers without backdrop-filter support */
  [data-glass-effect="true"] {
    background: linear-gradient(135deg, rgba(255, 255, 255, 0.95) 0%, rgba(255, 255, 255, 0.98) 100%) !important;
    box-shadow: var(--glass-shadow-soft) !important;
  }
  
  [data-theme="dark"] [data-glass-effect="true"] {
    background: linear-gradient(135deg, rgba(27, 27, 27, 0.95) 0%, rgba(27, 27, 27, 0.98) 100%) !important;
  }
}

/* Premium Liquid Glass: Performance optimizations & visual enhancements */
@supports (backdrop-filter: blur(10px)) or (-webkit-backdrop-filter: blur(10px)) {
  [data-glass-effect="true"] {
    will-change: backdrop-filter, transform;
    transform: translateZ(0);
    -webkit-font-smoothing: subpixel-antialiased;
    /* Prevent GPU overdraw on nested glass elements */
    isolation: isolate;
    /* Enhanced border glow */
    border-image-source: linear-gradient(135deg, rgba(255, 255, 255, 0.5), rgba(255, 255, 255, 0.1));
    border-image-slice: 1;
  }
  
  /* Premium glow effects for interactive elements */
  [data-glass-glow="true"]:hover {
    filter: brightness(1.1);
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
  }
}

/* Shimmer animation for premium visual appeal */
@keyframes liquidGlassShimmer {
  0% {
    background-position: -200% center;
  }
  100% {
    background-position: 200% center;
  }
}

[data-glass-shimmer="true"] {
  background-image: linear-gradient(
    90deg,
    transparent 0%,
    rgba(255, 255, 255, 0.4) 50%,
    transparent 100%
  );
  background-size: 200% 100%;
  animation: liquidGlassShimmer 3s ease-in-out infinite;
}

/* Pulse glow animation for attention-grabbing elements */
@keyframes liquidGlassPulse {
  0%, 100% {
    box-shadow: 0 0 20px rgba(0, 122, 255, 0.4), 
                0 0 40px rgba(0, 122, 255, 0.2);
  }
  50% {
    box-shadow: 0 0 30px rgba(0, 122, 255, 0.6), 
                0 0 60px rgba(0, 122, 255, 0.4),
                0 0 90px rgba(0, 122, 255, 0.2);
  }
}

[data-glass-pulse="true"] {
  animation: liquidGlassPulse 2s ease-in-out infinite;
}

/* Floating animation for cards and panels */
@keyframes liquidGlassFloat {
  0%, 100% {
    transform: translateY(0px);
  }
  50% {
    transform: translateY(-4px);
  }
}

[data-glass-float="true"] {
  animation: liquidGlassFloat 3s ease-in-out infinite;
}

/* Respect prefers-reduced-motion for glass animations */
@media (prefers-reduced-motion: reduce) {
  [data-glass-effect="true"],
  [data-glass-shimmer="true"],
  [data-glass-pulse="true"],
  [data-glass-float="true"] {
    transition: none !important;
    animation: none !important;
  }
}

html,
body,
#root {
  width: 100%;
  /* To smooth any scrolling behavior */
  -webkit-overflow-scrolling: touch;
  margin: 0px;
  padding: 0px;
  /* Allows content to fill the viewport and go beyond the bottom */
  height: 100%;
  overflow: hidden;
}

#root {
  flex-shrink: 0;
  flex-basis: auto;
  flex-grow: 1;
  display: flex;
  flex: 1;
}

html {
  scroll-behavior: smooth;
  /* Prevent text size change on orientation change https://gist.github.com/tfausak/2222823#file-ios-8-web-app-html-L138 */
  -webkit-text-size-adjust: 100%;
  height: calc(100% + env(safe-area-inset-top));
}

body {
  display: flex;
  /* Allows you to scroll below the viewport; default value is visible */
  overflow-y: auto;
  overscroll-behavior-y: none;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  -ms-overflow-style: scrollbar;
}

/* Enable for apps that support dark-theme */
/*@media (prefers-color-scheme: dark) {
  body {
    background-color: black;
  }
}*/

/*
  hide Scrollbar
  in JS: extendTheme()
*/
/* set width=0 to hide scrollbar */
::-webkit-scrollbar {
  /* width: 0 controls vertical scrollbar, height: 0 controls horizontal scrollbar */
  width: 0;
  height: 0;
  background: transparent;
}

/* Track */
::-webkit-scrollbar-track {
  background: transparent;
}

/* Handle */
::-webkit-scrollbar-thumb {
  /* gray color palette comes from design file "illustration" */
  background: #74748b;
  border-radius: 3px;
}

.show-scrollbar ::-webkit-scrollbar {
  width: 8px;
  height: unset;
}
.show-scrollbar ::-webkit-scrollbar-track {
  background: unset;
}

input {
  outline: none;
  min-width: 0;
}

[role='button'] {
  outline: none;
}

button,
input,
[role='button'],
/* `Select` and `Toggle` are typically wrapped by a `Group`, so we handle them consistently. */
.is_GroupFrame {
  -webkit-app-region: no-drag;
}

textarea {
  outline: none;
  min-width: 0;
}

/* data-testid="Segment_Button" */
[data-testid='Segment_Button'] {
  width: 100%;
}

/* WallectConnect Modal */
.walletconnect-modal__base {
  max-width: 400px !important;
}

.debug-render-tracker-times-badge {
  position: absolute;

  /* left: 50%; */
  /* transform: translateX(-50%); */
  z-index: 999999;
}
.debug-render-tracker-times-badge-text {
  color: #1f2937;
  background-color: #facc15;
  font-size: 12px;
  font-weight: bold;
  line-height: 1;
}
.debug-render-tracker-times-badge.top-right {
  top: 0;
  right: 2px;
}
.debug-render-tracker-times-badge.top-left {
  top: 0;
  left: 2px;
}
.debug-render-tracker-times-badge.top-center {
  top: 0;
  left: 50%;
  transform: translateX(-50%);
}
.debug-render-tracker-times-badge.right-center {
  top: 50%;
  right: 2px;
  transform: translateY(-50%);
}
.debug-render-tracker-times-badge.bottom-right {
  bottom: 0;
  right: 2px;
}
.debug-render-tracker-times-badge.bottom-center {
  bottom: 0;
  left: 50%;
  transform: translateX(-50%);
}
.debug-render-tracker-times-badge.bottom-left {
  bottom: 0;
  left: 2px;
}
.debug-render-tracker-times-badge.left-center {
  top: 50%;
  left: 2px;
  transform: translateY(-50%);
}

.debug-render-tracker-animated-bg {
  position: relative;
}

.debug-render-tracker-animated-bg:before {
  pointer-events: none;
  content: '';
  position: absolute;
  z-index: 999999;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  animation: debugRenderTrackerColorFade 1s forwards;
}

@keyframes debugRenderTrackerColorFade {
  from {
    background-color: #e2c6c4;
  }
  to {
    background-color: transparent;
  }
}

.debug-render-tracker-animated-bg0 {
  position: relative;
}

.debug-render-tracker-animated-bg0:before {
  pointer-events: none;
  content: '';
  position: absolute;
  z-index: 999999;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  animation: debugRenderTrackerColorFade0 1s forwards;
}

@keyframes debugRenderTrackerColorFade0 {
  from {
    background-color: #aab8ab;
  }
  to {
    background-color: transparent;
  }
}

/* custom sonner toast styles, should remove if the burnt library support such api to custom styles */
[data-sonner-toast] {
  max-width: calc(100vw - 32px);
}

.app-region-no-drag {
  -webkit-app-region: no-drag;
}

/* react-beautiful-dnd */
[data-rbd-drag-handle-context-id] {
  cursor: default !important;
}

.onekey-img-cropper {
  height: 100%;
}

body > div.cet-container {
  z-index: unset;
}

/* 
  Add break-all class to handle word breaking in web platform,
  since react-native doesn't support wordBreak property directly.
  Used by TextAreaInput component for text wrapping.
*/
.break-all {
  word-break: break-all;
}

/* Hide title bar icon on Windows/Linux Desktop */
.onekey-body > .cet-titlebar > .cet-icon {
  display: none;
}

.onekey-body > .cet-titlebar > .cet-menubar {
  margin-left: 16px;
}

.normal-scrollbar::-webkit-scrollbar {
  width: 0px;
  height: 0px;
}

.normal-scrollbar::-webkit-scrollbar-track {
  background: #f9f9f9;
  border-radius: 100px;
}

.normal-scrollbar::-webkit-scrollbar-thumb {
  background: rgba(0, 0, 0, 0.27);
  border-radius: 100px;
}

w3m-modal {
  z-index: 99993173;
}

/* Keep Intercom floating UI behind toast notifications (z-index 1e6) */
#intercom-container *, .intercom-lightweight-app {
  z-index: 1 !important;
}

.pick-device-clip-path {
  animation: clip-device 1s forwards cubic-bezier(0.77, 0, 0.175, 1);
  clip-path: inset(0 0 100% 0);
}

@keyframes clip-device {
  0% {
    clip-path: inset(0 0 100% 0);
  }
  100% {
    clip-path: inset(0 0 0 0);
  }
}

.ok-skeleton-light {
  animation: ok-skeleton-light-loading 1.5s linear infinite alternate;
  color: transparent;
}

@keyframes ok-skeleton-light-loading {
  0% {
      background-color: #fafafa;
  }
  100% {
      background-color: #cdcdcd;
  }
}

.ok-skeleton-dark {
  animation: ok-skeleton-dark-loading 1.5s linear infinite alternate;
  color: transparent;
}

@keyframes ok-skeleton-dark-loading {
  0% {
      background-color: #111111;
  }
  100% {
      background-color: #333333;
  }
}